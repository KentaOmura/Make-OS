     1 00000000                                 [FORMAT "WCOFF"]
     2 00000000                                 [INSTRSET "i486p"]
     3 00000000                                 [OPTIMIZE 1]
     4 00000000                                 [OPTION 1]
     5 00000000                                 [BITS 32]
     6 00000000                                 	EXTERN	_hankaku
     7 00000000                                 	EXTERN	_io_load_eflags
     8 00000000                                 	EXTERN	_io_cli
     9 00000000                                 	EXTERN	_io_out8
    10 00000000                                 	EXTERN	_io_store_eflags
    11 00000000                                 [FILE "graphic.c"]
    12                                          [SECTION .text]
    13 00000000                                 	GLOBAL	_boxfill8
    14 00000000                                 _boxfill8:
    15 00000000 55                              	PUSH	EBP
    16 00000001 89 E5                           	MOV	EBP,ESP
    17 00000003 57                              	PUSH	EDI
    18 00000004 56                              	PUSH	ESI
    19 00000005 53                              	PUSH	EBX
    20 00000006 51                              	PUSH	ECX
    21 00000007 51                              	PUSH	ECX
    22 00000008 8A 55 10                        	MOV	DL,BYTE [16+EBP]
    23 0000000B 8B 45 20                        	MOV	EAX,DWORD [32+EBP]
    24 0000000E 88 55 F3                        	MOV	BYTE [-13+EBP],DL
    25 00000011 8B 7D 0C                        	MOV	EDI,DWORD [12+EBP]
    26 00000014 8B 55 18                        	MOV	EDX,DWORD [24+EBP]
    27 00000017 39 C2                           	CMP	EDX,EAX
    28 00000019 7D 32                           	JGE	L13
    29 0000001B 89 D3                           	MOV	EBX,EDX
    30 0000001D 29 D0                           	SUB	EAX,EDX
    31 0000001F 0F AF DF                        	IMUL	EBX,EDI
    32 00000022 89 C2                           	MOV	EDX,EAX
    33 00000024                                 L11:
    34 00000024 8B 4D 14                        	MOV	ECX,DWORD [20+EBP]
    35 00000027 3B 4D 1C                        	CMP	ECX,DWORD [28+EBP]
    36 0000002A 7D 1C                           	JGE	L15
    37 0000002C 8B 75 08                        	MOV	ESI,DWORD [8+EBP]
    38 0000002F 01 DE                           	ADD	ESI,EBX
    39 00000031 01 CE                           	ADD	ESI,ECX
    40 00000033 89 75 EC                        	MOV	DWORD [-20+EBP],ESI
    41 00000036                                 L10:
    42 00000036 8B 75 EC                        	MOV	ESI,DWORD [-20+EBP]
    43 00000039 8A 45 F3                        	MOV	AL,BYTE [-13+EBP]
    44 0000003C 41                              	INC	ECX
    45 0000003D 88 06                           	MOV	BYTE [ESI],AL
    46 0000003F 46                              	INC	ESI
    47 00000040 89 75 EC                        	MOV	DWORD [-20+EBP],ESI
    48 00000043 3B 4D 1C                        	CMP	ECX,DWORD [28+EBP]
    49 00000046 7C EE                           	JL	L10
    50 00000048                                 L15:
    51 00000048 01 FB                           	ADD	EBX,EDI
    52 0000004A 4A                              	DEC	EDX
    53 0000004B 75 D7                           	JNE	L11
    54 0000004D                                 L13:
    55 0000004D 58                              	POP	EAX
    56 0000004E 5A                              	POP	EDX
    57 0000004F 5B                              	POP	EBX
    58 00000050 5E                              	POP	ESI
    59 00000051 5F                              	POP	EDI
    60 00000052 5D                              	POP	EBP
    61 00000053 C3                              	RET
    62 00000054                                 	GLOBAL	_putstr8_asc
    63 00000054                                 _putstr8_asc:
    64 00000054 55                              	PUSH	EBP
    65 00000055 89 E5                           	MOV	EBP,ESP
    66 00000057 57                              	PUSH	EDI
    67 00000058 56                              	PUSH	ESI
    68 00000059 53                              	PUSH	EBX
    69 0000005A 8B 7D 14                        	MOV	EDI,DWORD [20+EBP]
    70 0000005D 8B 5D 1C                        	MOV	EBX,DWORD [28+EBP]
    71 00000060 8B 75 10                        	MOV	ESI,DWORD [16+EBP]
    72 00000063 80 3B 00                        	CMP	BYTE [EBX],0
    73 00000066 75 08                           	JNE	L20
    74 00000068                                 L22:
    75 00000068 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
    76 0000006B 5B                              	POP	EBX
    77 0000006C 5E                              	POP	ESI
    78 0000006D 5F                              	POP	EDI
    79 0000006E 5D                              	POP	EBP
    80 0000006F C3                              	RET
    81 00000070                                 L20:
    82 00000070 0F B6 03                        	MOVZX	EAX,BYTE [EBX]
    83 00000073 C1 E0 04                        	SAL	EAX,4
    84 00000076 43                              	INC	EBX
    85 00000077 05 [00000000]                   	ADD	EAX,_hankaku
    86 0000007C 50                              	PUSH	EAX
    87 0000007D 0F BE 45 18                     	MOVSX	EAX,BYTE [24+EBP]
    88 00000081 50                              	PUSH	EAX
    89 00000082 57                              	PUSH	EDI
    90 00000083 56                              	PUSH	ESI
    91 00000084 83 C6 08                        	ADD	ESI,8
    92 00000087 FF 75 0C                        	PUSH	DWORD [12+EBP]
    93 0000008A FF 75 08                        	PUSH	DWORD [8+EBP]
    94 0000008D E8 000000C1                     	CALL	_putfont8
    95 00000092 83 C4 18                        	ADD	ESP,24
    96 00000095 80 3B 00                        	CMP	BYTE [EBX],0
    97 00000098 75 D6                           	JNE	L20
    98 0000009A EB CC                           	JMP	L22
    99 0000009C                                 	GLOBAL	_putblock8_8
   100 0000009C                                 _putblock8_8:
   101 0000009C 55                              	PUSH	EBP
   102 0000009D 89 E5                           	MOV	EBP,ESP
   103 0000009F 57                              	PUSH	EDI
   104 000000A0 56                              	PUSH	ESI
   105 000000A1 31 F6                           	XOR	ESI,ESI
   106 000000A3 53                              	PUSH	EBX
   107 000000A4 83 EC 0C                        	SUB	ESP,12
   108 000000A7 3B 75 14                        	CMP	ESI,DWORD [20+EBP]
   109 000000AA 7D 3E                           	JGE	L35
   110 000000AC 31 FF                           	XOR	EDI,EDI
   111 000000AE                                 L33:
   112 000000AE 31 DB                           	XOR	EBX,EBX
   113 000000B0 3B 5D 10                        	CMP	EBX,DWORD [16+EBP]
   114 000000B3 7D 2C                           	JGE	L37
   115 000000B5 8B 45 20                        	MOV	EAX,DWORD [32+EBP]
   116 000000B8 01 F8                           	ADD	EAX,EDI
   117 000000BA 89 45 EC                        	MOV	DWORD [-20+EBP],EAX
   118 000000BD                                 L32:
   119 000000BD 8B 45 1C                        	MOV	EAX,DWORD [28+EBP]
   120 000000C0 8B 55 18                        	MOV	EDX,DWORD [24+EBP]
   121 000000C3 01 F0                           	ADD	EAX,ESI
   122 000000C5 01 DA                           	ADD	EDX,EBX
   123 000000C7 0F AF 45 0C                     	IMUL	EAX,DWORD [12+EBP]
   124 000000CB 01 D0                           	ADD	EAX,EDX
   125 000000CD 8B 4D 08                        	MOV	ECX,DWORD [8+EBP]
   126 000000D0 8B 55 EC                        	MOV	EDX,DWORD [-20+EBP]
   127 000000D3 43                              	INC	EBX
   128 000000D4 8A 12                           	MOV	DL,BYTE [EDX]
   129 000000D6 88 14 08                        	MOV	BYTE [EAX+ECX*1],DL
   130 000000D9 FF 45 EC                        	INC	DWORD [-20+EBP]
   131 000000DC 3B 5D 10                        	CMP	EBX,DWORD [16+EBP]
   132 000000DF 7C DC                           	JL	L32
   133 000000E1                                 L37:
   134 000000E1 46                              	INC	ESI
   135 000000E2 03 7D 10                        	ADD	EDI,DWORD [16+EBP]
   136 000000E5 3B 75 14                        	CMP	ESI,DWORD [20+EBP]
   137 000000E8 7C C4                           	JL	L33
   138 000000EA                                 L35:
   139 000000EA 83 C4 0C                        	ADD	ESP,12
   140 000000ED 5B                              	POP	EBX
   141 000000EE 5E                              	POP	ESI
   142 000000EF 5F                              	POP	EDI
   143 000000F0 5D                              	POP	EBP
   144 000000F1 C3                              	RET
   145                                          [SECTION .data]
   146 00000000                                 _mouse_coursol.0:
   147 00000000 6F 2E 2E 2E 2E 2E 2E 2E         	DB	"o......."
   148 00000008 6F 6F 6F 2E 2E 2E 2E 2E         	DB	"ooo....."
   149 00000010 6F 6F 6F 6F 2E 2E 2E 2E         	DB	"oooo...."
   150 00000018 6F 6F 6F 6F 6F 6F 2E 2E         	DB	"oooooo.."
   151 00000020 6F 6F 6F 6F 6F 6F 6F 6F         	DB	"oooooooo"
   152 00000028 2E 2E 2E 6F 6F 6F 2E 2E         	DB	"...ooo.."
   153 00000030 2E 2E 2E 2E 6F 6F 2E 2E         	DB	"....oo.."
   154 00000038 2E 2E 2E 2E 2E 6F 6F 2E         	DB	".....oo."
   155                                          [SECTION .text]
   156 000000F2                                 	GLOBAL	_init_mouse_cursol
   157 000000F2                                 _init_mouse_cursol:
   158 000000F2 55                              	PUSH	EBP
   159 000000F3 89 E5                           	MOV	EBP,ESP
   160 000000F5 57                              	PUSH	EDI
   161 000000F6 56                              	PUSH	ESI
   162 000000F7 53                              	PUSH	EBX
   163 000000F8 31 F6                           	XOR	ESI,ESI
   164 000000FA 57                              	PUSH	EDI
   165 000000FB 31 DB                           	XOR	EBX,EBX
   166 000000FD 57                              	PUSH	EDI
   167 000000FE 31 FF                           	XOR	EDI,EDI
   168 00000100 8A 45 0C                        	MOV	AL,BYTE [12+EBP]
   169 00000103 88 45 F3                        	MOV	BYTE [-13+EBP],AL
   170 00000106                                 L50:
   171 00000106 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
   172 00000109 31 C9                           	XOR	ECX,ECX
   173 0000010B 8D 14 38                        	LEA	EDX,DWORD [EAX+EDI*1]
   174 0000010E 01 F0                           	ADD	EAX,ESI
   175 00000110 89 45 EC                        	MOV	DWORD [-20+EBP],EAX
   176 00000113                                 L49:
   177 00000113 80 BC D9 [00000000] 6F          	CMP	BYTE [_mouse_coursol.0+ECX+EBX*8],111
   178 0000011B 74 2E                           	JE	L55
   179 0000011D                                 L47:
   180 0000011D 80 BC D9 [00000000] 2E          	CMP	BYTE [_mouse_coursol.0+ECX+EBX*8],46
   181 00000125 74 1D                           	JE	L56
   182 00000127                                 L45:
   183 00000127 41                              	INC	ECX
   184 00000128 42                              	INC	EDX
   185 00000129 FF 45 EC                        	INC	DWORD [-20+EBP]
   186 0000012C 83 F9 07                        	CMP	ECX,7
   187 0000012F 7E E2                           	JLE	L49
   188 00000131 43                              	INC	EBX
   189 00000132 83 C7 08                        	ADD	EDI,8
   190 00000135 83 C6 08                        	ADD	ESI,8
   191 00000138 83 FB 07                        	CMP	EBX,7
   192 0000013B 7E C9                           	JLE	L50
   193 0000013D 5B                              	POP	EBX
   194 0000013E 5E                              	POP	ESI
   195 0000013F 5B                              	POP	EBX
   196 00000140 5E                              	POP	ESI
   197 00000141 5F                              	POP	EDI
   198 00000142 5D                              	POP	EBP
   199 00000143 C3                              	RET
   200 00000144                                 L56:
   201 00000144 8A 45 F3                        	MOV	AL,BYTE [-13+EBP]
   202 00000147 88 02                           	MOV	BYTE [EDX],AL
   203 00000149 EB DC                           	JMP	L45
   204 0000014B                                 L55:
   205 0000014B 8B 45 EC                        	MOV	EAX,DWORD [-20+EBP]
   206 0000014E C6 00 07                        	MOV	BYTE [EAX],7
   207 00000151 EB CA                           	JMP	L47
   208 00000153                                 	GLOBAL	_putfont8
   209 00000153                                 _putfont8:
   210 00000153 55                              	PUSH	EBP
   211 00000154 89 E5                           	MOV	EBP,ESP
   212 00000156 57                              	PUSH	EDI
   213 00000157 56                              	PUSH	ESI
   214 00000158 31 F6                           	XOR	ESI,ESI
   215 0000015A 53                              	PUSH	EBX
   216 0000015B 8B 7D 1C                        	MOV	EDI,DWORD [28+EBP]
   217 0000015E 8A 5D 18                        	MOV	BL,BYTE [24+EBP]
   218 00000161                                 L70:
   219 00000161 8B 45 14                        	MOV	EAX,DWORD [20+EBP]
   220 00000164 8B 55 10                        	MOV	EDX,DWORD [16+EBP]
   221 00000167 01 F0                           	ADD	EAX,ESI
   222 00000169 0F AF 45 0C                     	IMUL	EAX,DWORD [12+EBP]
   223 0000016D 03 45 08                        	ADD	EAX,DWORD [8+EBP]
   224 00000170 8D 0C 02                        	LEA	ECX,DWORD [EDX+EAX*1]
   225 00000173 8A 14 3E                        	MOV	DL,BYTE [ESI+EDI*1]
   226 00000176 84 D2                           	TEST	DL,DL
   227 00000178 79 02                           	JNS	L62
   228 0000017A 88 19                           	MOV	BYTE [ECX],BL
   229 0000017C                                 L62:
   230 0000017C 88 D0                           	MOV	AL,DL
   231 0000017E 83 E0 40                        	AND	EAX,64
   232 00000181 84 C0                           	TEST	AL,AL
   233 00000183 74 03                           	JE	L63
   234 00000185 88 59 01                        	MOV	BYTE [1+ECX],BL
   235 00000188                                 L63:
   236 00000188 88 D0                           	MOV	AL,DL
   237 0000018A 83 E0 20                        	AND	EAX,32
   238 0000018D 84 C0                           	TEST	AL,AL
   239 0000018F 74 03                           	JE	L64
   240 00000191 88 59 02                        	MOV	BYTE [2+ECX],BL
   241 00000194                                 L64:
   242 00000194 88 D0                           	MOV	AL,DL
   243 00000196 83 E0 10                        	AND	EAX,16
   244 00000199 84 C0                           	TEST	AL,AL
   245 0000019B 74 03                           	JE	L65
   246 0000019D 88 59 03                        	MOV	BYTE [3+ECX],BL
   247 000001A0                                 L65:
   248 000001A0 88 D0                           	MOV	AL,DL
   249 000001A2 83 E0 08                        	AND	EAX,8
   250 000001A5 84 C0                           	TEST	AL,AL
   251 000001A7 74 03                           	JE	L66
   252 000001A9 88 59 04                        	MOV	BYTE [4+ECX],BL
   253 000001AC                                 L66:
   254 000001AC 88 D0                           	MOV	AL,DL
   255 000001AE 83 E0 04                        	AND	EAX,4
   256 000001B1 84 C0                           	TEST	AL,AL
   257 000001B3 74 03                           	JE	L67
   258 000001B5 88 59 05                        	MOV	BYTE [5+ECX],BL
   259 000001B8                                 L67:
   260 000001B8 88 D0                           	MOV	AL,DL
   261 000001BA 83 E0 02                        	AND	EAX,2
   262 000001BD 84 C0                           	TEST	AL,AL
   263 000001BF 74 03                           	JE	L68
   264 000001C1 88 59 06                        	MOV	BYTE [6+ECX],BL
   265 000001C4                                 L68:
   266 000001C4 83 E2 01                        	AND	EDX,1
   267 000001C7 84 D2                           	TEST	DL,DL
   268 000001C9 74 03                           	JE	L60
   269 000001CB 88 59 07                        	MOV	BYTE [7+ECX],BL
   270 000001CE                                 L60:
   271 000001CE 46                              	INC	ESI
   272 000001CF 83 FE 0F                        	CMP	ESI,15
   273 000001D2 7E 8D                           	JLE	L70
   274 000001D4 5B                              	POP	EBX
   275 000001D5 5E                              	POP	ESI
   276 000001D6 5F                              	POP	EDI
   277 000001D7 5D                              	POP	EBP
   278 000001D8 C3                              	RET
   279                                          [SECTION .data]
   280 00000040                                 _table_rgb.1:
   281 00000040 00                              	DB	0
   282 00000041 00                              	DB	0
   283 00000042 00                              	DB	0
   284 00000043 FF                              	DB	-1
   285 00000044 00                              	DB	0
   286 00000045 00                              	DB	0
   287 00000046 00                              	DB	0
   288 00000047 FF                              	DB	-1
   289 00000048 00                              	DB	0
   290 00000049 00                              	DB	0
   291 0000004A 00                              	DB	0
   292 0000004B FF                              	DB	-1
   293 0000004C FF                              	DB	-1
   294 0000004D FF                              	DB	-1
   295 0000004E 00                              	DB	0
   296 0000004F FF                              	DB	-1
   297 00000050 00                              	DB	0
   298 00000051 FF                              	DB	-1
   299 00000052 00                              	DB	0
   300 00000053 FF                              	DB	-1
   301 00000054 FF                              	DB	-1
   302 00000055 FF                              	DB	-1
   303 00000056 FF                              	DB	-1
   304 00000057 FF                              	DB	-1
   305 00000058 C6                              	DB	-58
   306 00000059 C6                              	DB	-58
   307 0000005A C6                              	DB	-58
   308 0000005B 84                              	DB	-124
   309 0000005C 00                              	DB	0
   310 0000005D 00                              	DB	0
   311 0000005E 00                              	DB	0
   312 0000005F 84                              	DB	-124
   313 00000060 00                              	DB	0
   314 00000061 00                              	DB	0
   315 00000062 00                              	DB	0
   316 00000063 84                              	DB	-124
   317 00000064 84                              	DB	-124
   318 00000065 84                              	DB	-124
   319 00000066 00                              	DB	0
   320 00000067 84                              	DB	-124
   321 00000068 00                              	DB	0
   322 00000069 84                              	DB	-124
   323 0000006A 00                              	DB	0
   324 0000006B 84                              	DB	-124
   325 0000006C 84                              	DB	-124
   326 0000006D 84                              	DB	-124
   327 0000006E 84                              	DB	-124
   328 0000006F 84                              	DB	-124
   329                                          [SECTION .text]
   330 000001D9                                 	GLOBAL	_init_palette
   331 000001D9                                 _init_palette:
   332 000001D9 55                              	PUSH	EBP
   333 000001DA 89 E5                           	MOV	EBP,ESP
   334 000001DC 68 [00000040]                   	PUSH	_table_rgb.1
   335 000001E1 6A 0F                           	PUSH	15
   336 000001E3 6A 00                           	PUSH	0
   337 000001E5 E8 00000002                     	CALL	_set_palette
   338 000001EA C9                              	LEAVE
   339 000001EB C3                              	RET
   340 000001EC                                 	GLOBAL	_set_palette
   341 000001EC                                 _set_palette:
   342 000001EC 55                              	PUSH	EBP
   343 000001ED 89 E5                           	MOV	EBP,ESP
   344 000001EF 57                              	PUSH	EDI
   345 000001F0 56                              	PUSH	ESI
   346 000001F1 53                              	PUSH	EBX
   347 000001F2 51                              	PUSH	ECX
   348 000001F3 8B 5D 08                        	MOV	EBX,DWORD [8+EBP]
   349 000001F6 8B 7D 0C                        	MOV	EDI,DWORD [12+EBP]
   350 000001F9 8B 75 10                        	MOV	ESI,DWORD [16+EBP]
   351 000001FC E8 [00000000]                   	CALL	_io_load_eflags
   352 00000201 89 45 F0                        	MOV	DWORD [-16+EBP],EAX
   353 00000204 E8 [00000000]                   	CALL	_io_cli
   354 00000209 53                              	PUSH	EBX
   355 0000020A 68 000003C8                     	PUSH	968
   356 0000020F E8 [00000000]                   	CALL	_io_out8
   357 00000214 39 FB                           	CMP	EBX,EDI
   358 00000216 58                              	POP	EAX
   359 00000217 5A                              	POP	EDX
   360 00000218 7E 12                           	JLE	L79
   361 0000021A                                 L81:
   362 0000021A 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
   363 0000021D 89 45 08                        	MOV	DWORD [8+EBP],EAX
   364 00000220 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   365 00000223 5B                              	POP	EBX
   366 00000224 5E                              	POP	ESI
   367 00000225 5F                              	POP	EDI
   368 00000226 5D                              	POP	EBP
   369 00000227 E9 [00000000]                   	JMP	_io_store_eflags
   370 0000022C                                 L79:
   371 0000022C 0F B6 06                        	MOVZX	EAX,BYTE [ESI]
   372 0000022F 50                              	PUSH	EAX
   373 00000230 43                              	INC	EBX
   374 00000231 68 000003C9                     	PUSH	969
   375 00000236 E8 [00000000]                   	CALL	_io_out8
   376 0000023B 0F B6 46 01                     	MOVZX	EAX,BYTE [1+ESI]
   377 0000023F 50                              	PUSH	EAX
   378 00000240 68 000003C9                     	PUSH	969
   379 00000245 E8 [00000000]                   	CALL	_io_out8
   380 0000024A 0F B6 46 02                     	MOVZX	EAX,BYTE [2+ESI]
   381 0000024E 50                              	PUSH	EAX
   382 0000024F 83 C6 03                        	ADD	ESI,3
   383 00000252 68 000003C9                     	PUSH	969
   384 00000257 E8 [00000000]                   	CALL	_io_out8
   385 0000025C 83 C4 18                        	ADD	ESP,24
   386 0000025F 39 FB                           	CMP	EBX,EDI
   387 00000261 7E C9                           	JLE	L79
   388 00000263 EB B5                           	JMP	L81
