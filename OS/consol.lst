     1 00000000                                 [FORMAT "WCOFF"]
     2 00000000                                 [INSTRSET "i486p"]
     3 00000000                                 [OPTIMIZE 1]
     4 00000000                                 [OPTION 1]
     5 00000000                                 [BITS 32]
     6 00000000                                 	EXTERN	_sheet_refresh
     7 00000000                                 	EXTERN	_task_now
     8 00000000                                 	EXTERN	_memman_alloc_4k
     9 00000000                                 	EXTERN	_fifo32_init
    10 00000000                                 	EXTERN	_timer_alloc
    11 00000000                                 	EXTERN	_timer_init
    12 00000000                                 	EXTERN	_timer_settime
    13 00000000                                 	EXTERN	_file_readfat
    14 00000000                                 	EXTERN	_io_cli
    15 00000000                                 	EXTERN	_fifo32_status
    16 00000000                                 	EXTERN	_fifo32_get
    17 00000000                                 	EXTERN	_io_sti
    18 00000000                                 	EXTERN	_boxfill8
    19 00000000                                 	EXTERN	_task_sleep
    20 00000000                                 	EXTERN	_file_search
    21 00000000                                 	EXTERN	_file_loadfile
    22 00000000                                 	EXTERN	_set_segmdesc
    23 00000000                                 	EXTERN	_farcall
    24 00000000                                 	EXTERN	_memman_free_4k
    25 00000000                                 	EXTERN	_sprintf
    26 00000000                                 	EXTERN	_putfont8_sht
    27 00000000                                 	EXTERN	_memman_total
    28 00000000                                 [FILE "consol.c"]
    29 00000000                                 	GLOBAL	_commandMeaningTable
    30                                          [SECTION .data]
    31 00000000                                 LC0:
    32 00000000 6D 65 6D 00                     	DB	"mem",0x00
    33 00000004                                 LC1:
    34 00000004 4D 65 6D 6F 72 79 20 53 74 6F   	DB	"Memory Storage and using",0x00
       0000000E 72 61 67 65 20 61 6E 64 20 75 
       00000018 73 69 6E 67 00 
    35 0000001D                                 LC2:
    36 0000001D 64 69 72 00                     	DB	"dir",0x00
    37 00000021                                 LC3:
    38 00000021 50 72 69 6E 74 20 41 6C 6C 20   	DB	"Print All File of Directory",0x00
       0000002B 46 69 6C 65 20 6F 66 20 44 69 
       00000035 72 65 63 74 6F 72 79 00 
    39 0000003D                                 LC4:
    40 0000003D 63 6C 73 00                     	DB	"cls",0x00
    41 00000041                                 LC5:
    42 00000041 43 6C 65 61 72 20 43 6F 6E 73   	DB	"Clear Consol Display",0x00
       0000004B 6F 6C 20 44 69 73 70 6C 61 79 
       00000055 00 
    43 00000056                                 LC6:
    44 00000056 74 79 70 65 00                  	DB	"type",0x00
    45 0000005B                                 LC7:
    46 0000005B 43 6F 6E 74 65 6E 74 73 20 6F   	DB	"Contents of Specified file",0x00
       00000065 66 20 53 70 65 63 69 66 69 65 
       0000006F 64 20 66 69 6C 65 00 
    47 00000076                                 _commandMeaningTable:
    48 00000076 [00000000]                      	DD	LC0
    49 0000007A [00000004]                      	DD	LC1
    50 0000007E [0000001D]                      	DD	LC2
    51 00000082 [00000021]                      	DD	LC3
    52 00000086 [0000003D]                      	DD	LC4
    53 0000008A [00000041]                      	DD	LC5
    54 0000008E [00000056]                      	DD	LC6
    55 00000092 [0000005B]                      	DD	LC7
    56                                          [SECTION .text]
    57 00000000                                 	GLOBAL	_cons_newline
    58 00000000                                 _cons_newline:
    59 00000000 55                              	PUSH	EBP
    60 00000001 89 E5                           	MOV	EBP,ESP
    61 00000003 57                              	PUSH	EDI
    62 00000004 56                              	PUSH	ESI
    63 00000005 53                              	PUSH	EBX
    64 00000006 50                              	PUSH	EAX
    65 00000007 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
    66 0000000A 8B 30                           	MOV	ESI,DWORD [EAX]
    67 0000000C 8B 40 08                        	MOV	EAX,DWORD [8+EAX]
    68 0000000F 3D 0000008B                     	CMP	EAX,139
    69 00000014 7F 1B                           	JG	L2
    70 00000016 8B 55 08                        	MOV	EDX,DWORD [8+EBP]
    71 00000019 83 C0 10                        	ADD	EAX,16
    72 0000001C 89 42 08                        	MOV	DWORD [8+EDX],EAX
    73 0000001F                                 L3:
    74 0000001F 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
    75 00000022 C7 40 04 00000008               	MOV	DWORD [4+EAX],8
    76 00000029 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
    77 0000002C 5B                              	POP	EBX
    78 0000002D 5E                              	POP	ESI
    79 0000002E 5F                              	POP	EDI
    80 0000002F 5D                              	POP	EBP
    81 00000030 C3                              	RET
    82 00000031                                 L2:
    83 00000031 C7 45 F0 0000001C               	MOV	DWORD [-16+EBP],28
    84 00000038                                 L13:
    85 00000038 BF 00000008                     	MOV	EDI,8
    86 0000003D                                 L12:
    87 0000003D 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
    88 00000040 8B 4E 04                        	MOV	ECX,DWORD [4+ESI]
    89 00000043 83 C0 10                        	ADD	EAX,16
    90 00000046 8B 55 F0                        	MOV	EDX,DWORD [-16+EBP]
    91 00000049 0F AF C1                        	IMUL	EAX,ECX
    92 0000004C 0F AF D1                        	IMUL	EDX,ECX
    93 0000004F 8B 1E                           	MOV	EBX,DWORD [ESI]
    94 00000051 8D 04 38                        	LEA	EAX,DWORD [EAX+EDI*1]
    95 00000054 8D 14 3A                        	LEA	EDX,DWORD [EDX+EDI*1]
    96 00000057 47                              	INC	EDI
    97 00000058 8A 04 18                        	MOV	AL,BYTE [EAX+EBX*1]
    98 0000005B 81 FF 000000F7                  	CMP	EDI,247
    99 00000061 88 04 1A                        	MOV	BYTE [EDX+EBX*1],AL
   100 00000064 7E D7                           	JLE	L12
   101 00000066 FF 45 F0                        	INC	DWORD [-16+EBP]
   102 00000069 81 7D F0 0000008B               	CMP	DWORD [-16+EBP],139
   103 00000070 7E C6                           	JLE	L13
   104 00000072 8B 46 08                        	MOV	EAX,DWORD [8+ESI]
   105 00000075 8D 50 E7                        	LEA	EDX,DWORD [-25+EAX]
   106 00000078 83 E8 09                        	SUB	EAX,9
   107 0000007B 89 55 F0                        	MOV	DWORD [-16+EBP],EDX
   108 0000007E 39 C2                           	CMP	EDX,EAX
   109 00000080 7D 37                           	JGE	L29
   110 00000082                                 L23:
   111 00000082 8B 56 04                        	MOV	EDX,DWORD [4+ESI]
   112 00000085 BF 00000008                     	MOV	EDI,8
   113 0000008A 8D 42 F8                        	LEA	EAX,DWORD [-8+EDX]
   114 0000008D 39 C7                           	CMP	EDI,EAX
   115 0000008F 7D 1A                           	JGE	L31
   116 00000091                                 L22:
   117 00000091 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
   118 00000094 0F AF C2                        	IMUL	EAX,EDX
   119 00000097 8B 16                           	MOV	EDX,DWORD [ESI]
   120 00000099 8D 04 38                        	LEA	EAX,DWORD [EAX+EDI*1]
   121 0000009C 47                              	INC	EDI
   122 0000009D C6 04 10 00                     	MOV	BYTE [EAX+EDX*1],0
   123 000000A1 8B 56 04                        	MOV	EDX,DWORD [4+ESI]
   124 000000A4 8D 42 F8                        	LEA	EAX,DWORD [-8+EDX]
   125 000000A7 39 C7                           	CMP	EDI,EAX
   126 000000A9 7C E6                           	JL	L22
   127 000000AB                                 L31:
   128 000000AB 8B 46 08                        	MOV	EAX,DWORD [8+ESI]
   129 000000AE FF 45 F0                        	INC	DWORD [-16+EBP]
   130 000000B1 83 E8 09                        	SUB	EAX,9
   131 000000B4 39 45 F0                        	CMP	DWORD [-16+EBP],EAX
   132 000000B7 7C C9                           	JL	L23
   133 000000B9                                 L29:
   134 000000B9 8B 46 08                        	MOV	EAX,DWORD [8+ESI]
   135 000000BC 83 E8 09                        	SUB	EAX,9
   136 000000BF 50                              	PUSH	EAX
   137 000000C0 8B 46 04                        	MOV	EAX,DWORD [4+ESI]
   138 000000C3 83 E8 08                        	SUB	EAX,8
   139 000000C6 50                              	PUSH	EAX
   140 000000C7 6A 1C                           	PUSH	28
   141 000000C9 6A 08                           	PUSH	8
   142 000000CB 56                              	PUSH	ESI
   143 000000CC E8 [00000000]                   	CALL	_sheet_refresh
   144 000000D1 83 C4 14                        	ADD	ESP,20
   145 000000D4 E9 FFFFFF46                     	JMP	L3
   146 000000D9                                 	GLOBAL	_consol_task
   147 000000D9                                 _consol_task:
   148 000000D9 55                              	PUSH	EBP
   149 000000DA 89 E5                           	MOV	EBP,ESP
   150 000000DC 57                              	PUSH	EDI
   151 000000DD 56                              	PUSH	ESI
   152 000000DE 53                              	PUSH	EBX
   153 000000DF 8D 5D E4                        	LEA	EBX,DWORD [-28+EBP]
   154 000000E2 81 EC 00000238                  	SUB	ESP,568
   155 000000E8 E8 [00000000]                   	CALL	_task_now
   156 000000ED 68 00002D00                     	PUSH	11520
   157 000000F2 68 003C0000                     	PUSH	3932160
   158 000000F7 89 85 FFFFFDC0                  	MOV	DWORD [-576+EBP],EAX
   159 000000FD E8 [00000000]                   	CALL	_memman_alloc_4k
   160 00000102 8B B5 FFFFFDC0                  	MOV	ESI,DWORD [-576+EBP]
   161 00000108 C7 45 E8 00000008               	MOV	DWORD [-24+EBP],8
   162 0000010F 89 85 FFFFFDBC                  	MOV	DWORD [-580+EBP],EAX
   163 00000115 83 C6 10                        	ADD	ESI,16
   164 00000118 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
   165 0000011B 89 45 E4                        	MOV	DWORD [-28+EBP],EAX
   166 0000011E 8D 85 FFFFFDC4                  	LEA	EAX,DWORD [-572+EBP]
   167 00000124 C7 45 EC 0000001C               	MOV	DWORD [-20+EBP],28
   168 0000012B C7 45 F0 FFFFFFFF               	MOV	DWORD [-16+EBP],-1
   169 00000132 89 1D 00000FEC                  	MOV	DWORD [4076],EBX
   170 00000138 FF B5 FFFFFDC0                  	PUSH	DWORD [-576+EBP]
   171 0000013E 50                              	PUSH	EAX
   172 0000013F 68 00000080                     	PUSH	128
   173 00000144 56                              	PUSH	ESI
   174 00000145 E8 [00000000]                   	CALL	_fifo32_init
   175 0000014A E8 [00000000]                   	CALL	_timer_alloc
   176 0000014F 6A 01                           	PUSH	1
   177 00000151 56                              	PUSH	ESI
   178 00000152 89 C7                           	MOV	EDI,EAX
   179 00000154 50                              	PUSH	EAX
   180 00000155 E8 [00000000]                   	CALL	_timer_init
   181 0000015A 83 C4 24                        	ADD	ESP,36
   182 0000015D 6A 32                           	PUSH	50
   183 0000015F 57                              	PUSH	EDI
   184 00000160 E8 [00000000]                   	CALL	_timer_settime
   185 00000165 68 00100200                     	PUSH	1049088
   186 0000016A FF B5 FFFFFDBC                  	PUSH	DWORD [-580+EBP]
   187 00000170 E8 [00000000]                   	CALL	_file_readfat
   188 00000175 6A 01                           	PUSH	1
   189 00000177 6A 3E                           	PUSH	62
   190 00000179 53                              	PUSH	EBX
   191 0000017A E8 000007A1                     	CALL	_cons_putchar
   192 0000017F 83 C4 1C                        	ADD	ESP,28
   193 00000182                                 L56:
   194 00000182 E8 [00000000]                   	CALL	_io_cli
   195 00000187 8B B5 FFFFFDC0                  	MOV	ESI,DWORD [-576+EBP]
   196 0000018D 83 C6 10                        	ADD	ESI,16
   197 00000190 56                              	PUSH	ESI
   198 00000191 E8 [00000000]                   	CALL	_fifo32_status
   199 00000196 5A                              	POP	EDX
   200 00000197 85 C0                           	TEST	EAX,EAX
   201 00000199 0F 84 000001AA                  	JE	L58
   202 0000019F 56                              	PUSH	ESI
   203 000001A0 E8 [00000000]                   	CALL	_fifo32_get
   204 000001A5 89 C3                           	MOV	EBX,EAX
   205 000001A7 E8 [00000000]                   	CALL	_io_sti
   206 000001AC 58                              	POP	EAX
   207 000001AD 83 FB 01                        	CMP	EBX,1
   208 000001B0 0F 8E 0000014C                  	JLE	L59
   209 000001B6 83 FB 02                        	CMP	EBX,2
   210 000001B9 0F 84 00000137                  	JE	L60
   211 000001BF 83 FB 03                        	CMP	EBX,3
   212 000001C2 0F 84 00000100                  	JE	L61
   213 000001C8 8D 83 FFFFFF00                  	LEA	EAX,DWORD [-256+EBX]
   214 000001CE 3D 000000FF                     	CMP	EAX,255
   215 000001D3 77 41                           	JA	L43
   216 000001D5 81 FB 00000108                  	CMP	EBX,264
   217 000001DB 0F 84 000000C7                  	JE	L62
   218 000001E1 81 FB 0000011C                  	CMP	EBX,284
   219 000001E7 74 78                           	JE	L63
   220 000001E9 8B 4D E8                        	MOV	ECX,DWORD [-24+EBP]
   221 000001EC 81 F9 000000EF                  	CMP	ECX,239
   222 000001F2 7F 22                           	JG	L43
   223 000001F4 BA 00000008                     	MOV	EDX,8
   224 000001F9 89 C8                           	MOV	EAX,ECX
   225 000001FB 89 D6                           	MOV	ESI,EDX
   226 000001FD 6A 01                           	PUSH	1
   227 000001FF 99                              	CDQ
   228 00000200 F7 FE                           	IDIV	ESI
   229 00000202 88 5C 05 C2                     	MOV	BYTE [-62+EBP+EAX*1],BL
   230 00000206 0F BE C3                        	MOVSX	EAX,BL
   231 00000209 50                              	PUSH	EAX
   232 0000020A 8D 45 E4                        	LEA	EAX,DWORD [-28+EBP]
   233 0000020D 50                              	PUSH	EAX
   234 0000020E E8 0000070D                     	CALL	_cons_putchar
   235 00000213                                 L57:
   236 00000213 83 C4 0C                        	ADD	ESP,12
   237 00000216                                 L43:
   238 00000216 83 7D F0 00                     	CMP	DWORD [-16+EBP],0
   239 0000021A 78 25                           	JS	L55
   240 0000021C 8B 4D EC                        	MOV	ECX,DWORD [-20+EBP]
   241 0000021F 8B 55 E8                        	MOV	EDX,DWORD [-24+EBP]
   242 00000222 8D 41 0F                        	LEA	EAX,DWORD [15+ECX]
   243 00000225 50                              	PUSH	EAX
   244 00000226 8D 42 07                        	LEA	EAX,DWORD [7+EDX]
   245 00000229 50                              	PUSH	EAX
   246 0000022A 51                              	PUSH	ECX
   247 0000022B 52                              	PUSH	EDX
   248 0000022C 0F B6 45 F0                     	MOVZX	EAX,BYTE [-16+EBP]
   249 00000230 50                              	PUSH	EAX
   250 00000231 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
   251 00000234 FF 70 04                        	PUSH	DWORD [4+EAX]
   252 00000237 FF 30                           	PUSH	DWORD [EAX]
   253 00000239 E8 [00000000]                   	CALL	_boxfill8
   254 0000023E 83 C4 1C                        	ADD	ESP,28
   255 00000241                                 L55:
   256 00000241 8B 4D EC                        	MOV	ECX,DWORD [-20+EBP]
   257 00000244 8B 55 E8                        	MOV	EDX,DWORD [-24+EBP]
   258 00000247 8D 41 10                        	LEA	EAX,DWORD [16+ECX]
   259 0000024A 50                              	PUSH	EAX
   260 0000024B 8D 42 08                        	LEA	EAX,DWORD [8+EDX]
   261 0000024E 50                              	PUSH	EAX
   262 0000024F 51                              	PUSH	ECX
   263 00000250 52                              	PUSH	EDX
   264 00000251 FF 75 08                        	PUSH	DWORD [8+EBP]
   265 00000254 E8 [00000000]                   	CALL	_sheet_refresh
   266 00000259 83 C4 14                        	ADD	ESP,20
   267 0000025C E9 FFFFFF21                     	JMP	L56
   268 00000261                                 L63:
   269 00000261 6A 00                           	PUSH	0
   270 00000263 8D 5D E4                        	LEA	EBX,DWORD [-28+EBP]
   271 00000266 6A 20                           	PUSH	32
   272 00000268 53                              	PUSH	EBX
   273 00000269 E8 000006B2                     	CALL	_cons_putchar
   274 0000026E 53                              	PUSH	EBX
   275 0000026F 8B 45 E8                        	MOV	EAX,DWORD [-24+EBP]
   276 00000272 BA 00000008                     	MOV	EDX,8
   277 00000277 89 D6                           	MOV	ESI,EDX
   278 00000279 99                              	CDQ
   279 0000027A F7 FE                           	IDIV	ESI
   280 0000027C C6 44 05 C2 00                  	MOV	BYTE [-62+EBP+EAX*1],0
   281 00000281 E8 FFFFFD7A                     	CALL	_cons_newline
   282 00000286 8D 45 C4                        	LEA	EAX,DWORD [-60+EBP]
   283 00000289 50                              	PUSH	EAX
   284 0000028A FF B5 FFFFFDBC                  	PUSH	DWORD [-580+EBP]
   285 00000290 53                              	PUSH	EBX
   286 00000291 E8 000001B4                     	CALL	_commandRun
   287 00000296 6A 01                           	PUSH	1
   288 00000298 6A 3E                           	PUSH	62
   289 0000029A 53                              	PUSH	EBX
   290 0000029B E8 00000680                     	CALL	_cons_putchar
   291 000002A0 83 C4 28                        	ADD	ESP,40
   292 000002A3 E9 FFFFFF6E                     	JMP	L43
   293 000002A8                                 L62:
   294 000002A8 83 7D E8 10                     	CMP	DWORD [-24+EBP],16
   295 000002AC 0F 8E FFFFFF64                  	JLE	L43
   296 000002B2 6A 00                           	PUSH	0
   297 000002B4 8D 45 E4                        	LEA	EAX,DWORD [-28+EBP]
   298 000002B7 6A 20                           	PUSH	32
   299 000002B9 50                              	PUSH	EAX
   300 000002BA E8 00000661                     	CALL	_cons_putchar
   301 000002BF 83 6D E8 08                     	SUB	DWORD [-24+EBP],8
   302 000002C3 E9 FFFFFF4B                     	JMP	L57
   303 000002C8                                 L61:
   304 000002C8 8B 4D EC                        	MOV	ECX,DWORD [-20+EBP]
   305 000002CB 8B 55 E8                        	MOV	EDX,DWORD [-24+EBP]
   306 000002CE 8D 41 0F                        	LEA	EAX,DWORD [15+ECX]
   307 000002D1 50                              	PUSH	EAX
   308 000002D2 8D 42 07                        	LEA	EAX,DWORD [7+EDX]
   309 000002D5 50                              	PUSH	EAX
   310 000002D6 51                              	PUSH	ECX
   311 000002D7 8B 4D 08                        	MOV	ECX,DWORD [8+EBP]
   312 000002DA 52                              	PUSH	EDX
   313 000002DB 6A 00                           	PUSH	0
   314 000002DD FF 71 04                        	PUSH	DWORD [4+ECX]
   315 000002E0 FF 31                           	PUSH	DWORD [ECX]
   316 000002E2 E8 [00000000]                   	CALL	_boxfill8
   317 000002E7 83 C4 1C                        	ADD	ESP,28
   318 000002EA C7 45 F0 FFFFFFFF               	MOV	DWORD [-16+EBP],-1
   319 000002F1 E9 FFFFFF20                     	JMP	L43
   320 000002F6                                 L60:
   321 000002F6 C7 45 F0 00000007               	MOV	DWORD [-16+EBP],7
   322 000002FD E9 FFFFFF14                     	JMP	L43
   323 00000302                                 L59:
   324 00000302 85 DB                           	TEST	EBX,EBX
   325 00000304 74 28                           	JE	L39
   326 00000306 6A 00                           	PUSH	0
   327 00000308 56                              	PUSH	ESI
   328 00000309 57                              	PUSH	EDI
   329 0000030A E8 [00000000]                   	CALL	_timer_init
   330 0000030F 83 C4 0C                        	ADD	ESP,12
   331 00000312 83 7D F0 00                     	CMP	DWORD [-16+EBP],0
   332 00000316 78 07                           	JS	L41
   333 00000318 C7 45 F0 00000007               	MOV	DWORD [-16+EBP],7
   334 0000031F                                 L41:
   335 0000031F 6A 32                           	PUSH	50
   336 00000321 57                              	PUSH	EDI
   337 00000322 E8 [00000000]                   	CALL	_timer_settime
   338 00000327 5A                              	POP	EDX
   339 00000328 59                              	POP	ECX
   340 00000329 E9 FFFFFEE8                     	JMP	L43
   341 0000032E                                 L39:
   342 0000032E 6A 01                           	PUSH	1
   343 00000330 56                              	PUSH	ESI
   344 00000331 57                              	PUSH	EDI
   345 00000332 E8 [00000000]                   	CALL	_timer_init
   346 00000337 83 C4 0C                        	ADD	ESP,12
   347 0000033A 83 7D F0 00                     	CMP	DWORD [-16+EBP],0
   348 0000033E 78 DF                           	JS	L41
   349 00000340 C7 45 F0 00000000               	MOV	DWORD [-16+EBP],0
   350 00000347 EB D6                           	JMP	L41
   351 00000349                                 L58:
   352 00000349 FF B5 FFFFFDC0                  	PUSH	DWORD [-576+EBP]
   353 0000034F E8 [00000000]                   	CALL	_task_sleep
   354 00000354 E8 [00000000]                   	CALL	_io_sti
   355 00000359 58                              	POP	EAX
   356 0000035A E9 FFFFFE23                     	JMP	L56
   357 0000035F                                 	GLOBAL	_cmd_app
   358 0000035F                                 _cmd_app:
   359 0000035F 55                              	PUSH	EBP
   360 00000360 89 E5                           	MOV	EBP,ESP
   361 00000362 57                              	PUSH	EDI
   362 00000363 56                              	PUSH	ESI
   363 00000364 53                              	PUSH	EBX
   364 00000365 31 DB                           	XOR	EBX,EBX
   365 00000367 83 EC 20                        	SUB	ESP,32
   366 0000036A 8B 55 10                        	MOV	EDX,DWORD [16+EBP]
   367 0000036D                                 L70:
   368 0000036D 8A 04 13                        	MOV	AL,BYTE [EBX+EDX*1]
   369 00000370 3C 20                           	CMP	AL,32
   370 00000372 7E 0A                           	JLE	L66
   371 00000374 88 44 1D D4                     	MOV	BYTE [-44+EBP+EBX*1],AL
   372 00000378 43                              	INC	EBX
   373 00000379 83 FB 0C                        	CMP	EBX,12
   374 0000037C 7E EF                           	JLE	L70
   375 0000037E                                 L66:
   376 0000037E 68 000000E0                     	PUSH	224
   377 00000383 8D 7D D4                        	LEA	EDI,DWORD [-44+EBP]
   378 00000386 68 00102600                     	PUSH	1058304
   379 0000038B 57                              	PUSH	EDI
   380 0000038C C6 44 1D D4 00                  	MOV	BYTE [-44+EBP+EBX*1],0
   381 00000391 E8 [00000000]                   	CALL	_file_search
   382 00000396 83 C4 0C                        	ADD	ESP,12
   383 00000399 89 C6                           	MOV	ESI,EAX
   384 0000039B 85 C0                           	TEST	EAX,EAX
   385 0000039D 74 69                           	JE	L75
   386 0000039F                                 L74:
   387 0000039F FF 76 1C                        	PUSH	DWORD [28+ESI]
   388 000003A2 68 003C0000                     	PUSH	3932160
   389 000003A7 E8 [00000000]                   	CALL	_memman_alloc_4k
   390 000003AC 68 00103E00                     	PUSH	1064448
   391 000003B1 FF 75 0C                        	PUSH	DWORD [12+EBP]
   392 000003B4 50                              	PUSH	EAX
   393 000003B5 89 C3                           	MOV	EBX,EAX
   394 000003B7 FF 76 1C                        	PUSH	DWORD [28+ESI]
   395 000003BA 0F B7 46 1A                     	MOVZX	EAX,WORD [26+ESI]
   396 000003BE 50                              	PUSH	EAX
   397 000003BF E8 [00000000]                   	CALL	_file_loadfile
   398 000003C4 68 0000409A                     	PUSH	16538
   399 000003C9 53                              	PUSH	EBX
   400 000003CA 8B 46 1C                        	MOV	EAX,DWORD [28+ESI]
   401 000003CD 48                              	DEC	EAX
   402 000003CE 50                              	PUSH	EAX
   403 000003CF 68 00271F58                     	PUSH	2563928
   404 000003D4 E8 [00000000]                   	CALL	_set_segmdesc
   405 000003D9 83 C4 2C                        	ADD	ESP,44
   406 000003DC 68 00001F58                     	PUSH	8024
   407 000003E1 6A 00                           	PUSH	0
   408 000003E3 E8 [00000000]                   	CALL	_farcall
   409 000003E8 FF 76 1C                        	PUSH	DWORD [28+ESI]
   410 000003EB 53                              	PUSH	EBX
   411 000003EC 68 003C0000                     	PUSH	3932160
   412 000003F1 E8 [00000000]                   	CALL	_memman_free_4k
   413 000003F6 FF 75 08                        	PUSH	DWORD [8+EBP]
   414 000003F9 E8 FFFFFC02                     	CALL	_cons_newline
   415 000003FE 31 C0                           	XOR	EAX,EAX
   416 00000400                                 L64:
   417 00000400 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   418 00000403 5B                              	POP	EBX
   419 00000404 5E                              	POP	ESI
   420 00000405 5F                              	POP	EDI
   421 00000406 5D                              	POP	EBP
   422 00000407 C3                              	RET
   423 00000408                                 L75:
   424 00000408 80 7C 1D D3 2E                  	CMP	BYTE [-45+EBP+EBX*1],46
   425 0000040D 74 2E                           	JE	L71
   426 0000040F 68 000000E0                     	PUSH	224
   427 00000414 68 00102600                     	PUSH	1058304
   428 00000419 57                              	PUSH	EDI
   429 0000041A C6 44 1D D4 2E                  	MOV	BYTE [-44+EBP+EBX*1],46
   430 0000041F C6 44 1D D5 48                  	MOV	BYTE [-43+EBP+EBX*1],72
   431 00000424 C6 44 1D D6 52                  	MOV	BYTE [-42+EBP+EBX*1],82
   432 00000429 C6 44 1D D7 42                  	MOV	BYTE [-41+EBP+EBX*1],66
   433 0000042E C6 44 1D D8 00                  	MOV	BYTE [-40+EBP+EBX*1],0
   434 00000433 E8 [00000000]                   	CALL	_file_search
   435 00000438 83 C4 0C                        	ADD	ESP,12
   436 0000043B 89 C6                           	MOV	ESI,EAX
   437 0000043D                                 L71:
   438 0000043D 85 F6                           	TEST	ESI,ESI
   439 0000043F 0F 85 FFFFFF5A                  	JNE	L74
   440 00000445 83 C8 FF                        	OR	EAX,-1
   441 00000448 EB B6                           	JMP	L64
   442                                          [SECTION .data]
   443 00000096                                 LC8:
   444 00000096 74 79 70 65 20 00               	DB	"type ",0x00
   445 0000009C                                 LC9:
   446 0000009C 68 65 6C 70 00                  	DB	"help",0x00
   447                                          [SECTION .text]
   448 0000044A                                 	GLOBAL	_commandRun
   449 0000044A                                 _commandRun:
   450 0000044A 55                              	PUSH	EBP
   451 0000044B 89 E5                           	MOV	EBP,ESP
   452 0000044D 57                              	PUSH	EDI
   453 0000044E 56                              	PUSH	ESI
   454 0000044F BF [00000000]                   	MOV	EDI,LC0
   455 00000454 53                              	PUSH	EBX
   456 00000455 51                              	PUSH	ECX
   457 00000456 51                              	PUSH	ECX
   458 00000457 8B 45 0C                        	MOV	EAX,DWORD [12+EBP]
   459 0000045A 8B 4D 10                        	MOV	ECX,DWORD [16+EBP]
   460 0000045D 89 45 F0                        	MOV	DWORD [-16+EBP],EAX
   461 00000460 89 4D EC                        	MOV	DWORD [-20+EBP],ECX
   462 00000463 B8 00000004                     	MOV	EAX,4
   463 00000468 89 CE                           	MOV	ESI,ECX
   464 0000046A FC                              	CLD
   465 0000046B 89 C1                           	MOV	ECX,EAX
   466 0000046D 8B 5D 08                        	MOV	EBX,DWORD [8+EBP]
   467 00000470 F3                              	REPE
   468 00000471 A6                              	CMPSB
   469 00000472 0F 84 000000D0                  	JE	L89
   470 00000478 B8 00000004                     	MOV	EAX,4
   471 0000047D 8B 75 EC                        	MOV	ESI,DWORD [-20+EBP]
   472 00000480 FC                              	CLD
   473 00000481 BF [0000003D]                   	MOV	EDI,LC4
   474 00000486 89 C1                           	MOV	ECX,EAX
   475 00000488 F3                              	REPE
   476 00000489 A6                              	CMPSB
   477 0000048A 0F 84 000000A9                  	JE	L90
   478 00000490 B8 00000004                     	MOV	EAX,4
   479 00000495 8B 75 EC                        	MOV	ESI,DWORD [-20+EBP]
   480 00000498 FC                              	CLD
   481 00000499 BF [0000001D]                   	MOV	EDI,LC2
   482 0000049E 89 C1                           	MOV	ECX,EAX
   483 000004A0 F3                              	REPE
   484 000004A1 A6                              	CMPSB
   485 000004A2 0F 84 00000082                  	JE	L91
   486 000004A8 B8 00000005                     	MOV	EAX,5
   487 000004AD 8B 75 EC                        	MOV	ESI,DWORD [-20+EBP]
   488 000004B0 FC                              	CLD
   489 000004B1 BF [00000096]                   	MOV	EDI,LC8
   490 000004B6 89 C1                           	MOV	ECX,EAX
   491 000004B8 F3                              	REPE
   492 000004B9 A6                              	CMPSB
   493 000004BA 74 53                           	JE	L92
   494 000004BC B8 00000005                     	MOV	EAX,5
   495 000004C1 8B 75 EC                        	MOV	ESI,DWORD [-20+EBP]
   496 000004C4 FC                              	CLD
   497 000004C5 BF [0000009C]                   	MOV	EDI,LC9
   498 000004CA 89 C1                           	MOV	ECX,EAX
   499 000004CC F3                              	REPE
   500 000004CD A6                              	CMPSB
   501 000004CE 74 30                           	JE	L93
   502 000004D0 8B 45 EC                        	MOV	EAX,DWORD [-20+EBP]
   503 000004D3 80 38 00                        	CMP	BYTE [EAX],0
   504 000004D6 75 08                           	JNE	L94
   505 000004D8                                 L76:
   506 000004D8 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   507 000004DB 5B                              	POP	EBX
   508 000004DC 5E                              	POP	ESI
   509 000004DD 5F                              	POP	EDI
   510 000004DE 5D                              	POP	EBP
   511 000004DF C3                              	RET
   512 000004E0                                 L94:
   513 000004E0 50                              	PUSH	EAX
   514 000004E1 FF 75 F0                        	PUSH	DWORD [-16+EBP]
   515 000004E4 53                              	PUSH	EBX
   516 000004E5 E8 FFFFFE75                     	CALL	_cmd_app
   517 000004EA 83 C4 0C                        	ADD	ESP,12
   518 000004ED 85 C0                           	TEST	EAX,EAX
   519 000004EF 74 E7                           	JE	L76
   520 000004F1 89 5D 08                        	MOV	DWORD [8+EBP],EBX
   521 000004F4 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   522 000004F7 5B                              	POP	EBX
   523 000004F8 5E                              	POP	ESI
   524 000004F9 5F                              	POP	EDI
   525 000004FA 5D                              	POP	EBP
   526 000004FB E9 000001F3                     	JMP	_badExecute
   527 00000500                                 L93:
   528 00000500 89 5D 08                        	MOV	DWORD [8+EBP],EBX
   529 00000503 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   530 00000506 5B                              	POP	EBX
   531 00000507 5E                              	POP	ESI
   532 00000508 5F                              	POP	EDI
   533 00000509 5D                              	POP	EBP
   534 0000050A E9 000002FB                     	JMP	_helpExecute
   535 0000050F                                 L92:
   536 0000050F 8B 45 EC                        	MOV	EAX,DWORD [-20+EBP]
   537 00000512 8B 4D F0                        	MOV	ECX,DWORD [-16+EBP]
   538 00000515 89 45 10                        	MOV	DWORD [16+EBP],EAX
   539 00000518 89 4D 0C                        	MOV	DWORD [12+EBP],ECX
   540 0000051B 89 5D 08                        	MOV	DWORD [8+EBP],EBX
   541 0000051E 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   542 00000521 5B                              	POP	EBX
   543 00000522 5E                              	POP	ESI
   544 00000523 5F                              	POP	EDI
   545 00000524 5D                              	POP	EBP
   546 00000525 E9 00000204                     	JMP	_typeExecute
   547 0000052A                                 L91:
   548 0000052A 89 5D 08                        	MOV	DWORD [8+EBP],EBX
   549 0000052D 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   550 00000530 5B                              	POP	EBX
   551 00000531 5E                              	POP	ESI
   552 00000532 5F                              	POP	EDI
   553 00000533 5D                              	POP	EBP
   554 00000534 E9 000000A3                     	JMP	_dirExecute
   555 00000539                                 L90:
   556 00000539 89 5D 08                        	MOV	DWORD [8+EBP],EBX
   557 0000053C 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   558 0000053F 5B                              	POP	EBX
   559 00000540 5E                              	POP	ESI
   560 00000541 5F                              	POP	EDI
   561 00000542 5D                              	POP	EBP
   562 00000543 E9 00000149                     	JMP	_clsExecute
   563 00000548                                 L89:
   564 00000548 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   565 0000054B 5B                              	POP	EBX
   566 0000054C 5E                              	POP	ESI
   567 0000054D 5F                              	POP	EDI
   568 0000054E 5D                              	POP	EBP
   569 0000054F EB 00                           	JMP	_memExecute
   570                                          [SECTION .data]
   571 000000A1                                 LC10:
   572 000000A1 74 6F 74 61 6C 20 20 25 64 4D   	DB	"total  %dMB",0x00
       000000AB 42 00 
   573 000000AD                                 LC11:
   574 000000AD 66 72 65 65 20 20 25 64 4B 42   	DB	"free  %dKB",0x00
       000000B7 00 
   575                                          [SECTION .text]
   576 00000551                                 	GLOBAL	_memExecute
   577 00000551                                 _memExecute:
   578 00000551 55                              	PUSH	EBP
   579 00000552 83 C8 FF                        	OR	EAX,-1
   580 00000555 89 E5                           	MOV	EBP,ESP
   581 00000557 56                              	PUSH	ESI
   582 00000558 53                              	PUSH	EBX
   583 00000559 83 EC 20                        	SUB	ESP,32
   584 0000055C 8B 75 08                        	MOV	ESI,DWORD [8+EBP]
   585 0000055F 85 F6                           	TEST	ESI,ESI
   586 00000561 74 72                           	JE	L95
   587 00000563 A1 003C0000                     	MOV	EAX,DWORD [3932160]
   588 00000568 8D 5D D8                        	LEA	EBX,DWORD [-40+EBP]
   589 0000056B C1 E8 14                        	SHR	EAX,20
   590 0000056E 50                              	PUSH	EAX
   591 0000056F 68 [000000A1]                   	PUSH	LC10
   592 00000574 53                              	PUSH	EBX
   593 00000575 E8 [00000000]                   	CALL	_sprintf
   594 0000057A 6A 1E                           	PUSH	30
   595 0000057C 53                              	PUSH	EBX
   596 0000057D 6A 00                           	PUSH	0
   597 0000057F 6A 07                           	PUSH	7
   598 00000581 FF 76 08                        	PUSH	DWORD [8+ESI]
   599 00000584 6A 08                           	PUSH	8
   600 00000586 FF 36                           	PUSH	DWORD [ESI]
   601 00000588 E8 [00000000]                   	CALL	_putfont8_sht
   602 0000058D 83 C4 28                        	ADD	ESP,40
   603 00000590 56                              	PUSH	ESI
   604 00000591 E8 FFFFFA6A                     	CALL	_cons_newline
   605 00000596 68 003C0000                     	PUSH	3932160
   606 0000059B E8 [00000000]                   	CALL	_memman_total
   607 000005A0 C1 E8 0A                        	SHR	EAX,10
   608 000005A3 89 04 24                        	MOV	DWORD [ESP],EAX
   609 000005A6 68 [000000AD]                   	PUSH	LC11
   610 000005AB 53                              	PUSH	EBX
   611 000005AC E8 [00000000]                   	CALL	_sprintf
   612 000005B1 6A 1E                           	PUSH	30
   613 000005B3 53                              	PUSH	EBX
   614 000005B4 6A 00                           	PUSH	0
   615 000005B6 6A 07                           	PUSH	7
   616 000005B8 FF 76 08                        	PUSH	DWORD [8+ESI]
   617 000005BB 6A 08                           	PUSH	8
   618 000005BD FF 36                           	PUSH	DWORD [ESI]
   619 000005BF E8 [00000000]                   	CALL	_putfont8_sht
   620 000005C4 83 C4 2C                        	ADD	ESP,44
   621 000005C7 56                              	PUSH	ESI
   622 000005C8 E8 FFFFFA33                     	CALL	_cons_newline
   623 000005CD 56                              	PUSH	ESI
   624 000005CE E8 FFFFFA2D                     	CALL	_cons_newline
   625 000005D3 31 C0                           	XOR	EAX,EAX
   626 000005D5                                 L95:
   627 000005D5 8D 65 F8                        	LEA	ESP,DWORD [-8+EBP]
   628 000005D8 5B                              	POP	EBX
   629 000005D9 5E                              	POP	ESI
   630 000005DA 5D                              	POP	EBP
   631 000005DB C3                              	RET
   632                                          [SECTION .data]
   633 000000B8                                 LC12:
   634 000000B8 66 69 6C 65 49 6E 66 6F 2E 65   	DB	"fileInfo.ext    %7d",0x00
       000000C2 78 74 20 20 20 20 25 37 64 00 
   635                                          [SECTION .text]
   636 000005DC                                 	GLOBAL	_dirExecute
   637 000005DC                                 _dirExecute:
   638 000005DC 55                              	PUSH	EBP
   639 000005DD 83 C8 FF                        	OR	EAX,-1
   640 000005E0 89 E5                           	MOV	EBP,ESP
   641 000005E2 57                              	PUSH	EDI
   642 000005E3 56                              	PUSH	ESI
   643 000005E4 53                              	PUSH	EBX
   644 000005E5 83 EC 20                        	SUB	ESP,32
   645 000005E8 8B 75 08                        	MOV	ESI,DWORD [8+EBP]
   646 000005EB 85 F6                           	TEST	ESI,ESI
   647 000005ED 74 2F                           	JE	L97
   648 000005EF 31 FF                           	XOR	EDI,EDI
   649 000005F1 31 DB                           	XOR	EBX,EBX
   650 000005F3                                 L111:
   651 000005F3 8A 83 00102600                  	MOV	AL,BYTE [1058304+EBX]
   652 000005F9 84 C0                           	TEST	AL,AL
   653 000005FB 74 19                           	JE	L100
   654 000005FD 3C E5                           	CMP	AL,-27
   655 000005FF 74 09                           	JE	L101
   656 00000601 F6 83 0010260B 18               	TEST	BYTE [1058315+EBX],24
   657 00000608 74 1C                           	JE	L115
   658 0000060A                                 L101:
   659 0000060A 47                              	INC	EDI
   660 0000060B 83 C3 20                        	ADD	EBX,32
   661 0000060E 81 FF 000000DF                  	CMP	EDI,223
   662 00000614 7E DD                           	JLE	L111
   663 00000616                                 L100:
   664 00000616 56                              	PUSH	ESI
   665 00000617 E8 FFFFF9E4                     	CALL	_cons_newline
   666 0000061C 31 C0                           	XOR	EAX,EAX
   667 0000061E                                 L97:
   668 0000061E 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   669 00000621 5B                              	POP	EBX
   670 00000622 5E                              	POP	ESI
   671 00000623 5F                              	POP	EDI
   672 00000624 5D                              	POP	EBP
   673 00000625 C3                              	RET
   674 00000626                                 L115:
   675 00000626 FF B3 0010261C                  	PUSH	DWORD [1058332+EBX]
   676 0000062C 68 [000000B8]                   	PUSH	LC12
   677 00000631 8D 45 D4                        	LEA	EAX,DWORD [-44+EBP]
   678 00000634 50                              	PUSH	EAX
   679 00000635 E8 [00000000]                   	CALL	_sprintf
   680 0000063A 8D 93 00102600                  	LEA	EDX,DWORD [1058304+EBX]
   681 00000640 31 C9                           	XOR	ECX,ECX
   682 00000642 83 C4 0C                        	ADD	ESP,12
   683 00000645                                 L110:
   684 00000645 8A 02                           	MOV	AL,BYTE [EDX]
   685 00000647 42                              	INC	EDX
   686 00000648 88 44 0D D4                     	MOV	BYTE [-44+EBP+ECX*1],AL
   687 0000064C 41                              	INC	ECX
   688 0000064D 83 F9 07                        	CMP	ECX,7
   689 00000650 7E F3                           	JLE	L110
   690 00000652 8A 83 00102608                  	MOV	AL,BYTE [1058312+EBX]
   691 00000658 88 45 DD                        	MOV	BYTE [-35+EBP],AL
   692 0000065B 8A 83 00102609                  	MOV	AL,BYTE [1058313+EBX]
   693 00000661 88 45 DE                        	MOV	BYTE [-34+EBP],AL
   694 00000664 8A 83 0010260A                  	MOV	AL,BYTE [1058314+EBX]
   695 0000066A 6A 1E                           	PUSH	30
   696 0000066C 88 45 DF                        	MOV	BYTE [-33+EBP],AL
   697 0000066F 8D 45 D4                        	LEA	EAX,DWORD [-44+EBP]
   698 00000672 50                              	PUSH	EAX
   699 00000673 6A 00                           	PUSH	0
   700 00000675 6A 07                           	PUSH	7
   701 00000677 FF 76 08                        	PUSH	DWORD [8+ESI]
   702 0000067A 6A 08                           	PUSH	8
   703 0000067C FF 36                           	PUSH	DWORD [ESI]
   704 0000067E E8 [00000000]                   	CALL	_putfont8_sht
   705 00000683 56                              	PUSH	ESI
   706 00000684 E8 FFFFF977                     	CALL	_cons_newline
   707 00000689 83 C4 20                        	ADD	ESP,32
   708 0000068C E9 FFFFFF79                     	JMP	L101
   709 00000691                                 	GLOBAL	_clsExecute
   710 00000691                                 _clsExecute:
   711 00000691 55                              	PUSH	EBP
   712 00000692 83 C8 FF                        	OR	EAX,-1
   713 00000695 89 E5                           	MOV	EBP,ESP
   714 00000697 57                              	PUSH	EDI
   715 00000698 56                              	PUSH	ESI
   716 00000699 8B 7D 08                        	MOV	EDI,DWORD [8+EBP]
   717 0000069C 53                              	PUSH	EBX
   718 0000069D 85 FF                           	TEST	EDI,EDI
   719 0000069F 74 4A                           	JE	L116
   720 000006A1 8B 1F                           	MOV	EBX,DWORD [EDI]
   721 000006A3 BE 0000001C                     	MOV	ESI,28
   722 000006A8                                 L127:
   723 000006A8 B9 00000008                     	MOV	ECX,8
   724 000006AD                                 L126:
   725 000006AD 89 F0                           	MOV	EAX,ESI
   726 000006AF 8B 13                           	MOV	EDX,DWORD [EBX]
   727 000006B1 0F AF 43 04                     	IMUL	EAX,DWORD [4+EBX]
   728 000006B5 8D 04 08                        	LEA	EAX,DWORD [EAX+ECX*1]
   729 000006B8 41                              	INC	ECX
   730 000006B9 81 F9 000000F7                  	CMP	ECX,247
   731 000006BF C6 04 10 00                     	MOV	BYTE [EAX+EDX*1],0
   732 000006C3 7E E8                           	JLE	L126
   733 000006C5 46                              	INC	ESI
   734 000006C6 81 FE 0000009B                  	CMP	ESI,155
   735 000006CC 7E DA                           	JLE	L127
   736 000006CE 68 0000009C                     	PUSH	156
   737 000006D3 68 000000F8                     	PUSH	248
   738 000006D8 6A 1C                           	PUSH	28
   739 000006DA 6A 08                           	PUSH	8
   740 000006DC 53                              	PUSH	EBX
   741 000006DD E8 [00000000]                   	CALL	_sheet_refresh
   742 000006E2 31 C0                           	XOR	EAX,EAX
   743 000006E4 C7 47 08 0000001C               	MOV	DWORD [8+EDI],28
   744 000006EB                                 L116:
   745 000006EB 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   746 000006EE 5B                              	POP	EBX
   747 000006EF 5E                              	POP	ESI
   748 000006F0 5F                              	POP	EDI
   749 000006F1 5D                              	POP	EBP
   750 000006F2 C3                              	RET
   751                                          [SECTION .data]
   752 000000CC                                 LC13:
   753 000000CC 42 61 64 20 43 6F 6D 6D 61 6E   	DB	"Bad Command",0x00
       000000D6 64 00 
   754                                          [SECTION .text]
   755 000006F3                                 	GLOBAL	_badExecute
   756 000006F3                                 _badExecute:
   757 000006F3 55                              	PUSH	EBP
   758 000006F4 83 C8 FF                        	OR	EAX,-1
   759 000006F7 89 E5                           	MOV	EBP,ESP
   760 000006F9 53                              	PUSH	EBX
   761 000006FA 8B 5D 08                        	MOV	EBX,DWORD [8+EBP]
   762 000006FD 85 DB                           	TEST	EBX,EBX
   763 000006FF 74 28                           	JE	L132
   764 00000701 6A 1E                           	PUSH	30
   765 00000703 68 [000000CC]                   	PUSH	LC13
   766 00000708 6A 00                           	PUSH	0
   767 0000070A 6A 07                           	PUSH	7
   768 0000070C FF 73 08                        	PUSH	DWORD [8+EBX]
   769 0000070F 6A 08                           	PUSH	8
   770 00000711 FF 33                           	PUSH	DWORD [EBX]
   771 00000713 E8 [00000000]                   	CALL	_putfont8_sht
   772 00000718 53                              	PUSH	EBX
   773 00000719 E8 FFFFF8E2                     	CALL	_cons_newline
   774 0000071E 83 C4 20                        	ADD	ESP,32
   775 00000721 53                              	PUSH	EBX
   776 00000722 E8 FFFFF8D9                     	CALL	_cons_newline
   777 00000727 31 C0                           	XOR	EAX,EAX
   778 00000729                                 L132:
   779 00000729 8B 5D FC                        	MOV	EBX,DWORD [-4+EBP]
   780 0000072C C9                              	LEAVE
   781 0000072D C3                              	RET
   782                                          [SECTION .data]
   783 000000D8                                 LC14:
   784 000000D8 46 69 6C 65 20 6E 6F 74 20 66   	DB	"File not found",0x00
       000000E2 6F 75 6E 64 00 
   785                                          [SECTION .text]
   786 0000072E                                 	GLOBAL	_typeExecute
   787 0000072E                                 _typeExecute:
   788 0000072E 55                              	PUSH	EBP
   789 0000072F 89 E5                           	MOV	EBP,ESP
   790 00000731 57                              	PUSH	EDI
   791 00000732 56                              	PUSH	ESI
   792 00000733 53                              	PUSH	EBX
   793 00000734 83 EC 10                        	SUB	ESP,16
   794 00000737 8B 75 10                        	MOV	ESI,DWORD [16+EBP]
   795 0000073A 68 000000E0                     	PUSH	224
   796 0000073F 68 00102600                     	PUSH	1058304
   797 00000744 8D 46 05                        	LEA	EAX,DWORD [5+ESI]
   798 00000747 50                              	PUSH	EAX
   799 00000748 E8 [00000000]                   	CALL	_file_search
   800 0000074D 83 C4 0C                        	ADD	ESP,12
   801 00000750 89 C3                           	MOV	EBX,EAX
   802 00000752 83 7D 08 00                     	CMP	DWORD [8+EBP],0
   803 00000756 0F 84 000000A9                  	JE	L136
   804 0000075C 83 7D 0C 00                     	CMP	DWORD [12+EBP],0
   805 00000760 0F 84 0000009F                  	JE	L136
   806 00000766 85 F6                           	TEST	ESI,ESI
   807 00000768 0F 84 00000097                  	JE	L136
   808 0000076E 85 C0                           	TEST	EAX,EAX
   809 00000770 74 6C                           	JE	L137
   810 00000772 FF 70 1C                        	PUSH	DWORD [28+EAX]
   811 00000775 68 003C0000                     	PUSH	3932160
   812 0000077A 31 F6                           	XOR	ESI,ESI
   813 0000077C E8 [00000000]                   	CALL	_memman_alloc_4k
   814 00000781 68 00103E00                     	PUSH	1064448
   815 00000786 FF 75 0C                        	PUSH	DWORD [12+EBP]
   816 00000789 50                              	PUSH	EAX
   817 0000078A 89 C7                           	MOV	EDI,EAX
   818 0000078C FF 73 1C                        	PUSH	DWORD [28+EBX]
   819 0000078F 0F B7 43 1A                     	MOVZX	EAX,WORD [26+EBX]
   820 00000793 50                              	PUSH	EAX
   821 00000794 E8 [00000000]                   	CALL	_file_loadfile
   822 00000799 83 C4 1C                        	ADD	ESP,28
   823 0000079C 3B 73 1C                        	CMP	ESI,DWORD [28+EBX]
   824 0000079F 72 23                           	JB	L142
   825 000007A1                                 L145:
   826 000007A1 FF 73 1C                        	PUSH	DWORD [28+EBX]
   827 000007A4 57                              	PUSH	EDI
   828 000007A5 68 003C0000                     	PUSH	3932160
   829 000007AA E8 [00000000]                   	CALL	_memman_free_4k
   830 000007AF 83 C4 0C                        	ADD	ESP,12
   831 000007B2                                 L143:
   832 000007B2 FF 75 08                        	PUSH	DWORD [8+EBP]
   833 000007B5 E8 FFFFF846                     	CALL	_cons_newline
   834 000007BA 31 C0                           	XOR	EAX,EAX
   835 000007BC                                 L134:
   836 000007BC 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   837 000007BF 5B                              	POP	EBX
   838 000007C0 5E                              	POP	ESI
   839 000007C1 5F                              	POP	EDI
   840 000007C2 5D                              	POP	EBP
   841 000007C3 C3                              	RET
   842 000007C4                                 L142:
   843 000007C4 6A 01                           	PUSH	1
   844 000007C6 0F BE 04 3E                     	MOVSX	EAX,BYTE [ESI+EDI*1]
   845 000007CA 50                              	PUSH	EAX
   846 000007CB 46                              	INC	ESI
   847 000007CC FF 75 08                        	PUSH	DWORD [8+EBP]
   848 000007CF E8 0000014C                     	CALL	_cons_putchar
   849 000007D4 83 C4 0C                        	ADD	ESP,12
   850 000007D7 3B 73 1C                        	CMP	ESI,DWORD [28+EBX]
   851 000007DA 72 E8                           	JB	L142
   852 000007DC EB C3                           	JMP	L145
   853 000007DE                                 L137:
   854 000007DE 6A 0F                           	PUSH	15
   855 000007E0 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
   856 000007E3 68 [000000D8]                   	PUSH	LC14
   857 000007E8 6A 00                           	PUSH	0
   858 000007EA 6A 07                           	PUSH	7
   859 000007EC FF 70 08                        	PUSH	DWORD [8+EAX]
   860 000007EF 6A 08                           	PUSH	8
   861 000007F1 FF 30                           	PUSH	DWORD [EAX]
   862 000007F3 E8 [00000000]                   	CALL	_putfont8_sht
   863 000007F8 FF 75 08                        	PUSH	DWORD [8+EBP]
   864 000007FB E8 FFFFF800                     	CALL	_cons_newline
   865 00000800 83 C4 20                        	ADD	ESP,32
   866 00000803 EB AD                           	JMP	L143
   867 00000805                                 L136:
   868 00000805 83 C8 FF                        	OR	EAX,-1
   869 00000808 EB B2                           	JMP	L134
   870 0000080A                                 	GLOBAL	_helpExecute
   871 0000080A                                 _helpExecute:
   872 0000080A 55                              	PUSH	EBP
   873 0000080B 83 C8 FF                        	OR	EAX,-1
   874 0000080E 89 E5                           	MOV	EBP,ESP
   875 00000810 57                              	PUSH	EDI
   876 00000811 56                              	PUSH	ESI
   877 00000812 8B 75 08                        	MOV	ESI,DWORD [8+EBP]
   878 00000815 53                              	PUSH	EBX
   879 00000816 85 F6                           	TEST	ESI,ESI
   880 00000818 74 4C                           	JE	L146
   881 0000081A 31 FF                           	XOR	EDI,EDI
   882 0000081C                                 L152:
   883 0000081C BB [00000076]                   	MOV	EBX,_commandMeaningTable
   884 00000821 6A 1E                           	PUSH	30
   885 00000823 FF 34 FB                        	PUSH	DWORD [EBX+EDI*8]
   886 00000826 6A 00                           	PUSH	0
   887 00000828 6A 07                           	PUSH	7
   888 0000082A FF 76 08                        	PUSH	DWORD [8+ESI]
   889 0000082D 6A 08                           	PUSH	8
   890 0000082F FF 36                           	PUSH	DWORD [ESI]
   891 00000831 E8 [00000000]                   	CALL	_putfont8_sht
   892 00000836 56                              	PUSH	ESI
   893 00000837 E8 FFFFF7C4                     	CALL	_cons_newline
   894 0000083C 83 C4 20                        	ADD	ESP,32
   895 0000083F 6A 1E                           	PUSH	30
   896 00000841 FF 74 FB 04                     	PUSH	DWORD [4+EBX+EDI*8]
   897 00000845 6A 00                           	PUSH	0
   898 00000847 47                              	INC	EDI
   899 00000848 6A 07                           	PUSH	7
   900 0000084A FF 76 08                        	PUSH	DWORD [8+ESI]
   901 0000084D 6A 08                           	PUSH	8
   902 0000084F FF 36                           	PUSH	DWORD [ESI]
   903 00000851 E8 [00000000]                   	CALL	_putfont8_sht
   904 00000856 56                              	PUSH	ESI
   905 00000857 E8 FFFFF7A4                     	CALL	_cons_newline
   906 0000085C 83 C4 20                        	ADD	ESP,32
   907 0000085F 83 FF 03                        	CMP	EDI,3
   908 00000862 76 B8                           	JBE	L152
   909 00000864 31 C0                           	XOR	EAX,EAX
   910 00000866                                 L146:
   911 00000866 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   912 00000869 5B                              	POP	EBX
   913 0000086A 5E                              	POP	ESI
   914 0000086B 5F                              	POP	EDI
   915 0000086C 5D                              	POP	EBP
   916 0000086D C3                              	RET
   917                                          [SECTION .data]
   918 000000E7                                 LC15:
   919 000000E7 48 4C 54 2E 48 52 42 00         	DB	"HLT.HRB",0x00
   920                                          [SECTION .text]
   921 0000086E                                 	GLOBAL	_hltExecute
   922 0000086E                                 _hltExecute:
   923 0000086E 55                              	PUSH	EBP
   924 0000086F 89 E5                           	MOV	EBP,ESP
   925 00000871 57                              	PUSH	EDI
   926 00000872 56                              	PUSH	ESI
   927 00000873 53                              	PUSH	EBX
   928 00000874 8B 7D 08                        	MOV	EDI,DWORD [8+EBP]
   929 00000877 68 000000E0                     	PUSH	224
   930 0000087C 68 00102600                     	PUSH	1058304
   931 00000881 68 [000000E7]                   	PUSH	LC15
   932 00000886 E8 [00000000]                   	CALL	_file_search
   933 0000088B 83 C4 0C                        	ADD	ESP,12
   934 0000088E 89 C6                           	MOV	ESI,EAX
   935 00000890 85 C0                           	TEST	EAX,EAX
   936 00000892 74 6A                           	JE	L156
   937 00000894 FF 70 1C                        	PUSH	DWORD [28+EAX]
   938 00000897 68 003C0000                     	PUSH	3932160
   939 0000089C E8 [00000000]                   	CALL	_memman_alloc_4k
   940 000008A1 68 00103E00                     	PUSH	1064448
   941 000008A6 FF 75 0C                        	PUSH	DWORD [12+EBP]
   942 000008A9 50                              	PUSH	EAX
   943 000008AA 89 C3                           	MOV	EBX,EAX
   944 000008AC FF 76 1C                        	PUSH	DWORD [28+ESI]
   945 000008AF 0F B7 46 1A                     	MOVZX	EAX,WORD [26+ESI]
   946 000008B3 50                              	PUSH	EAX
   947 000008B4 E8 [00000000]                   	CALL	_file_loadfile
   948 000008B9 68 0000409A                     	PUSH	16538
   949 000008BE 53                              	PUSH	EBX
   950 000008BF 8B 46 1C                        	MOV	EAX,DWORD [28+ESI]
   951 000008C2 48                              	DEC	EAX
   952 000008C3 50                              	PUSH	EAX
   953 000008C4 68 00271F58                     	PUSH	2563928
   954 000008C9 E8 [00000000]                   	CALL	_set_segmdesc
   955 000008CE 83 C4 2C                        	ADD	ESP,44
   956 000008D1 68 00001F58                     	PUSH	8024
   957 000008D6 6A 00                           	PUSH	0
   958 000008D8 E8 [00000000]                   	CALL	_farcall
   959 000008DD FF 76 1C                        	PUSH	DWORD [28+ESI]
   960 000008E0 53                              	PUSH	EBX
   961 000008E1 68 003C0000                     	PUSH	3932160
   962 000008E6 E8 [00000000]                   	CALL	_memman_free_4k
   963 000008EB 83 C4 14                        	ADD	ESP,20
   964 000008EE                                 L157:
   965 000008EE 57                              	PUSH	EDI
   966 000008EF E8 FFFFF70C                     	CALL	_cons_newline
   967 000008F4 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   968 000008F7 5B                              	POP	EBX
   969 000008F8 31 C0                           	XOR	EAX,EAX
   970 000008FA 5E                              	POP	ESI
   971 000008FB 5F                              	POP	EDI
   972 000008FC 5D                              	POP	EBP
   973 000008FD C3                              	RET
   974 000008FE                                 L156:
   975 000008FE 6A 0F                           	PUSH	15
   976 00000900 68 [000000D8]                   	PUSH	LC14
   977 00000905 6A 00                           	PUSH	0
   978 00000907 6A 07                           	PUSH	7
   979 00000909 FF 77 08                        	PUSH	DWORD [8+EDI]
   980 0000090C 6A 08                           	PUSH	8
   981 0000090E FF 37                           	PUSH	DWORD [EDI]
   982 00000910 E8 [00000000]                   	CALL	_putfont8_sht
   983 00000915 57                              	PUSH	EDI
   984 00000916 E8 FFFFF6E5                     	CALL	_cons_newline
   985 0000091B 83 C4 20                        	ADD	ESP,32
   986 0000091E EB CE                           	JMP	L157
   987                                          [SECTION .data]
   988 000000EF                                 LC16:
   989 000000EF 20 00                           	DB	" ",0x00
   990                                          [SECTION .text]
   991 00000920                                 	GLOBAL	_cons_putchar
   992 00000920                                 _cons_putchar:
   993 00000920 55                              	PUSH	EBP
   994 00000921 89 E5                           	MOV	EBP,ESP
   995 00000923 53                              	PUSH	EBX
   996 00000924 50                              	PUSH	EAX
   997 00000925 8B 45 0C                        	MOV	EAX,DWORD [12+EBP]
   998 00000928 8A 55 10                        	MOV	DL,BYTE [16+EBP]
   999 0000092B 8B 5D 08                        	MOV	EBX,DWORD [8+EBP]
  1000 0000092E 88 55 F9                        	MOV	BYTE [-7+EBP],DL
  1001 00000931 88 45 FA                        	MOV	BYTE [-6+EBP],AL
  1002 00000934 3C 09                           	CMP	AL,9
  1003 00000936 C6 45 FB 00                     	MOV	BYTE [-5+EBP],0
  1004 0000093A 74 46                           	JE	L165
  1005 0000093C 3C 0A                           	CMP	AL,10
  1006 0000093E 74 39                           	JE	L173
  1007 00000940 3C 0D                           	CMP	AL,13
  1008 00000942 74 30                           	JE	L158
  1009 00000944 6A 01                           	PUSH	1
  1010 00000946 8D 45 FA                        	LEA	EAX,DWORD [-6+EBP]
  1011 00000949 50                              	PUSH	EAX
  1012 0000094A 6A 00                           	PUSH	0
  1013 0000094C 6A 07                           	PUSH	7
  1014 0000094E FF 73 08                        	PUSH	DWORD [8+EBX]
  1015 00000951 FF 73 04                        	PUSH	DWORD [4+EBX]
  1016 00000954 FF 33                           	PUSH	DWORD [EBX]
  1017 00000956 E8 [00000000]                   	CALL	_putfont8_sht
  1018 0000095B 83 C4 1C                        	ADD	ESP,28
  1019 0000095E 80 7D F9 00                     	CMP	BYTE [-7+EBP],0
  1020 00000962 74 10                           	JE	L158
  1021 00000964 8B 43 04                        	MOV	EAX,DWORD [4+EBX]
  1022 00000967 83 C0 08                        	ADD	EAX,8
  1023 0000096A 89 43 04                        	MOV	DWORD [4+EBX],EAX
  1024 0000096D 3D 000000F8                     	CMP	EAX,248
  1025 00000972 74 05                           	JE	L173
  1026 00000974                                 L158:
  1027 00000974 8B 5D FC                        	MOV	EBX,DWORD [-4+EBP]
  1028 00000977 C9                              	LEAVE
  1029 00000978 C3                              	RET
  1030 00000979                                 L173:
  1031 00000979 53                              	PUSH	EBX
  1032 0000097A E8 FFFFF681                     	CALL	_cons_newline
  1033 0000097F 5B                              	POP	EBX
  1034 00000980 EB F2                           	JMP	L158
  1035 00000982                                 L165:
  1036 00000982 6A 01                           	PUSH	1
  1037 00000984 68 [000000EF]                   	PUSH	LC16
  1038 00000989 6A 00                           	PUSH	0
  1039 0000098B 6A 07                           	PUSH	7
  1040 0000098D FF 73 08                        	PUSH	DWORD [8+EBX]
  1041 00000990 FF 73 04                        	PUSH	DWORD [4+EBX]
  1042 00000993 FF 33                           	PUSH	DWORD [EBX]
  1043 00000995 E8 [00000000]                   	CALL	_putfont8_sht
  1044 0000099A 83 C4 1C                        	ADD	ESP,28
  1045 0000099D 8B 43 04                        	MOV	EAX,DWORD [4+EBX]
  1046 000009A0 83 C0 08                        	ADD	EAX,8
  1047 000009A3 89 43 04                        	MOV	DWORD [4+EBX],EAX
  1048 000009A6 3D 000000F8                     	CMP	EAX,248
  1049 000009AB 74 0D                           	JE	L174
  1050 000009AD                                 L163:
  1051 000009AD 8B 43 04                        	MOV	EAX,DWORD [4+EBX]
  1052 000009B0 83 E8 08                        	SUB	EAX,8
  1053 000009B3 83 E0 1F                        	AND	EAX,31
  1054 000009B6 75 CA                           	JNE	L165
  1055 000009B8 EB BA                           	JMP	L158
  1056 000009BA                                 L174:
  1057 000009BA 53                              	PUSH	EBX
  1058 000009BB E8 FFFFF640                     	CALL	_cons_newline
  1059 000009C0 58                              	POP	EAX
  1060 000009C1 EB EA                           	JMP	L163
