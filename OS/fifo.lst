     1 00000000                                 [FORMAT "WCOFF"]
     2 00000000                                 [INSTRSET "i486p"]
     3 00000000                                 [OPTIMIZE 1]
     4 00000000                                 [OPTION 1]
     5 00000000                                 [BITS 32]
     6 00000000                                 [FILE "fifo.c"]
     7                                          [SECTION .text]
     8 00000000                                 	GLOBAL	_fifo32_status
     9 00000000                                 _fifo32_status:
    10 00000000 55                              	PUSH	EBP
    11 00000001 89 E5                           	MOV	EBP,ESP
    12 00000003 8B 55 08                        	MOV	EDX,DWORD [8+EBP]
    13 00000006 5D                              	POP	EBP
    14 00000007 8B 42 0C                        	MOV	EAX,DWORD [12+EDX]
    15 0000000A 2B 42 10                        	SUB	EAX,DWORD [16+EDX]
    16 0000000D C3                              	RET
    17 0000000E                                 	GLOBAL	_fifo32_init
    18 0000000E                                 _fifo32_init:
    19 0000000E 55                              	PUSH	EBP
    20 0000000F 89 E5                           	MOV	EBP,ESP
    21 00000011 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
    22 00000014 8B 4D 0C                        	MOV	ECX,DWORD [12+EBP]
    23 00000017 8B 55 10                        	MOV	EDX,DWORD [16+EBP]
    24 0000001A 89 48 0C                        	MOV	DWORD [12+EAX],ECX
    25 0000001D 89 10                           	MOV	DWORD [EAX],EDX
    26 0000001F 89 48 10                        	MOV	DWORD [16+EAX],ECX
    27 00000022 C7 40 14 00000000               	MOV	DWORD [20+EAX],0
    28 00000029 C7 40 08 00000000               	MOV	DWORD [8+EAX],0
    29 00000030 C7 40 04 00000000               	MOV	DWORD [4+EAX],0
    30 00000037 5D                              	POP	EBP
    31 00000038 C3                              	RET
    32 00000039                                 	GLOBAL	_fifo32_put
    33 00000039                                 _fifo32_put:
    34 00000039 55                              	PUSH	EBP
    35 0000003A 89 E5                           	MOV	EBP,ESP
    36 0000003C 53                              	PUSH	EBX
    37 0000003D 8B 5D 08                        	MOV	EBX,DWORD [8+EBP]
    38 00000040 83 7B 10 00                     	CMP	DWORD [16+EBX],0
    39 00000044 75 0D                           	JNE	L4
    40 00000046 83 C8 FF                        	OR	EAX,-1
    41 00000049 C7 43 14 FFFFFFFF               	MOV	DWORD [20+EBX],-1
    42 00000050                                 L3:
    43 00000050 5B                              	POP	EBX
    44 00000051 5D                              	POP	EBP
    45 00000052 C3                              	RET
    46 00000053                                 L4:
    47 00000053 8B 4B 04                        	MOV	ECX,DWORD [4+EBX]
    48 00000056 8B 13                           	MOV	EDX,DWORD [EBX]
    49 00000058 8B 45 0C                        	MOV	EAX,DWORD [12+EBP]
    50 0000005B 89 04 8A                        	MOV	DWORD [EDX+ECX*4],EAX
    51 0000005E 8B 43 04                        	MOV	EAX,DWORD [4+EBX]
    52 00000061 40                              	INC	EAX
    53 00000062 89 43 04                        	MOV	DWORD [4+EBX],EAX
    54 00000065 3B 43 0C                        	CMP	EAX,DWORD [12+EBX]
    55 00000068 74 07                           	JE	L6
    56 0000006A                                 L5:
    57 0000006A FF 4B 10                        	DEC	DWORD [16+EBX]
    58 0000006D 31 C0                           	XOR	EAX,EAX
    59 0000006F EB DF                           	JMP	L3
    60 00000071                                 L6:
    61 00000071 C7 43 04 00000000               	MOV	DWORD [4+EBX],0
    62 00000078 EB F0                           	JMP	L5
    63 0000007A                                 	GLOBAL	_fifo32_get
    64 0000007A                                 _fifo32_get:
    65 0000007A 55                              	PUSH	EBP
    66 0000007B 83 C8 FF                        	OR	EAX,-1
    67 0000007E 89 E5                           	MOV	EBP,ESP
    68 00000080 56                              	PUSH	ESI
    69 00000081 53                              	PUSH	EBX
    70 00000082 8B 4D 08                        	MOV	ECX,DWORD [8+EBP]
    71 00000085 8B 71 10                        	MOV	ESI,DWORD [16+ECX]
    72 00000088 8B 59 0C                        	MOV	EBX,DWORD [12+ECX]
    73 0000008B 39 DE                           	CMP	ESI,EBX
    74 0000008D 74 18                           	JE	L7
    75 0000008F 8B 41 08                        	MOV	EAX,DWORD [8+ECX]
    76 00000092 8B 11                           	MOV	EDX,DWORD [ECX]
    77 00000094 8B 14 82                        	MOV	EDX,DWORD [EDX+EAX*4]
    78 00000097 40                              	INC	EAX
    79 00000098 89 41 08                        	MOV	DWORD [8+ECX],EAX
    80 0000009B 39 D8                           	CMP	EAX,EBX
    81 0000009D 74 0C                           	JE	L10
    82 0000009F                                 L9:
    83 0000009F 8D 46 01                        	LEA	EAX,DWORD [1+ESI]
    84 000000A2 89 41 10                        	MOV	DWORD [16+ECX],EAX
    85 000000A5 89 D0                           	MOV	EAX,EDX
    86 000000A7                                 L7:
    87 000000A7 5B                              	POP	EBX
    88 000000A8 5E                              	POP	ESI
    89 000000A9 5D                              	POP	EBP
    90 000000AA C3                              	RET
    91 000000AB                                 L10:
    92 000000AB C7 41 08 00000000               	MOV	DWORD [8+ECX],0
    93 000000B2 EB EB                           	JMP	L9
