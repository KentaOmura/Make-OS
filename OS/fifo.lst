     1 00000000                                 [FORMAT "WCOFF"]
     2 00000000                                 [INSTRSET "i486p"]
     3 00000000                                 [OPTIMIZE 1]
     4 00000000                                 [OPTION 1]
     5 00000000                                 [BITS 32]
     6 00000000                                 [FILE "fifo.c"]
     7                                          [SECTION .text]
     8 00000000                                 	GLOBAL	_init_fifo
     9 00000000                                 _init_fifo:
    10 00000000 55                              	PUSH	EBP
    11 00000001 89 E5                           	MOV	EBP,ESP
    12 00000003 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
    13 00000006 C6 00 00                        	MOV	BYTE [EAX],0
    14 00000009 C7 40 20 00000000               	MOV	DWORD [32+EAX],0
    15 00000010 C7 40 24 00000000               	MOV	DWORD [36+EAX],0
    16 00000017 C7 40 28 00000020               	MOV	DWORD [40+EAX],32
    17 0000001E C7 40 2C 00000020               	MOV	DWORD [44+EAX],32
    18 00000025 5D                              	POP	EBP
    19 00000026 C3                              	RET
    20 00000027                                 	GLOBAL	_fifo_status
    21 00000027                                 _fifo_status:
    22 00000027 55                              	PUSH	EBP
    23 00000028 89 E5                           	MOV	EBP,ESP
    24 0000002A 8B 55 08                        	MOV	EDX,DWORD [8+EBP]
    25 0000002D 5D                              	POP	EBP
    26 0000002E 8B 42 28                        	MOV	EAX,DWORD [40+EDX]
    27 00000031 2B 42 2C                        	SUB	EAX,DWORD [44+EDX]
    28 00000034 C3                              	RET
    29 00000035                                 	GLOBAL	_fifo_put
    30 00000035                                 _fifo_put:
    31 00000035 55                              	PUSH	EBP
    32 00000036 89 E5                           	MOV	EBP,ESP
    33 00000038 53                              	PUSH	EBX
    34 00000039 8B 4D 08                        	MOV	ECX,DWORD [8+EBP]
    35 0000003C 8B 5D 0C                        	MOV	EBX,DWORD [12+EBP]
    36 0000003F 8B 51 2C                        	MOV	EDX,DWORD [44+ECX]
    37 00000042 85 D2                           	TEST	EDX,EDX
    38 00000044 74 13                           	JE	L3
    39 00000046 8B 41 20                        	MOV	EAX,DWORD [32+ECX]
    40 00000049 4A                              	DEC	EDX
    41 0000004A 89 51 2C                        	MOV	DWORD [44+ECX],EDX
    42 0000004D 88 1C 01                        	MOV	BYTE [ECX+EAX*1],BL
    43 00000050 40                              	INC	EAX
    44 00000051 89 41 20                        	MOV	DWORD [32+ECX],EAX
    45 00000054 3B 41 28                        	CMP	EAX,DWORD [40+ECX]
    46 00000057 74 03                           	JE	L6
    47 00000059                                 L3:
    48 00000059 5B                              	POP	EBX
    49 0000005A 5D                              	POP	EBP
    50 0000005B C3                              	RET
    51 0000005C                                 L6:
    52 0000005C C7 41 20 00000000               	MOV	DWORD [32+ECX],0
    53 00000063 EB F4                           	JMP	L3
    54 00000065                                 	GLOBAL	_fifo_get
    55 00000065                                 _fifo_get:
    56 00000065 55                              	PUSH	EBP
    57 00000066 89 E5                           	MOV	EBP,ESP
    58 00000068 53                              	PUSH	EBX
    59 00000069 8B 5D 08                        	MOV	EBX,DWORD [8+EBP]
    60 0000006C 53                              	PUSH	EBX
    61 0000006D E8 FFFFFFB5                     	CALL	_fifo_status
    62 00000072 5A                              	POP	EDX
    63 00000073 31 D2                           	XOR	EDX,EDX
    64 00000075 85 C0                           	TEST	EAX,EAX
    65 00000077 74 15                           	JE	L7
    66 00000079 8B 43 24                        	MOV	EAX,DWORD [36+EBX]
    67 0000007C FF 43 2C                        	INC	DWORD [44+EBX]
    68 0000007F 8A 14 03                        	MOV	DL,BYTE [EBX+EAX*1]
    69 00000082 40                              	INC	EAX
    70 00000083 89 43 24                        	MOV	DWORD [36+EBX],EAX
    71 00000086 3B 43 28                        	CMP	EAX,DWORD [40+EBX]
    72 00000089 74 0A                           	JE	L10
    73 0000008B                                 L9:
    74 0000008B 0F B6 D2                        	MOVZX	EDX,DL
    75 0000008E                                 L7:
    76 0000008E 89 D0                           	MOV	EAX,EDX
    77 00000090 8B 5D FC                        	MOV	EBX,DWORD [-4+EBP]
    78 00000093 C9                              	LEAVE
    79 00000094 C3                              	RET
    80 00000095                                 L10:
    81 00000095 C7 43 24 00000000               	MOV	DWORD [36+EBX],0
    82 0000009C EB ED                           	JMP	L9
